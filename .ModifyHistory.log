[2024-03-21 10:00:00] 代码简述：
- Flask应用程序作为API代理服务器
- 管理文本、嵌入和图像生成模型
- 处理API密钥验证和管理
- 支持流式响应和特殊模型功能
- 包含请求统计和监控机制
- 定时刷新密钥和模型列表

[2024-03-21 10:30:00] 更新get_credit_summary函数：
- 更新API端点为OpenRouter的认证端点
- 增加对OpenRouter特定字段的解析
- 改进错误处理和日志记录
- 扩展返回数据结构，包含更多额度信息

[2024-03-21 10:45:00] 进一步优化get_credit_summary函数：
- 添加limit_remaining字段支持
- 优化total_balance计算逻辑
- 完善402错误处理
- 增加更详细的日志记录

[2024-03-21 11:00:00] 从siliconflow迁移到OpenRouter：
- 更新所有API端点为OpenRouter的端点
- 修改get_all_models函数以适配OpenRouter的响应格式
- 更新test_model_availability函数的请求格式和状态码处理
- 更新FREE_IMAGE_LIST为OpenRouter支持的模型
- 优化模型类型判断逻辑 

[2024-03-21 11:30:00] 移除Embeddings和图片模型支持：
- 删除EMBEDDINGS_ENDPOINT和IMAGE_ENDPOINT
- 简化models字典，只保留text相关模型
- 移除FREE_IMAGE_LIST
- 简化get_all_models函数，移除模型类型过滤
- 简化test_model_availability函数，只保留chat模型测试
- 移除process_image_url函数
- 移除相关的路由处理函数（/v1/embeddings和/v1/images/generations） 

[2024-03-21 12:00:00] 适配OpenRouter免费模型命名规则：
- 修改determine_request_type函数，使用:free后缀判断免费模型
- 更新get_all_models函数，自动添加免费版本模型
- 简化refresh_models函数，直接通过后缀判断免费模型
- 移除多余的模型测试逻辑 

[2024-03-21 12:30:00] 修复chat_completions错误：
- 移除非流式响应中未定义的first_token_time变量
- 修复response_content的获取方式
- 简化非流式响应的日志记录 